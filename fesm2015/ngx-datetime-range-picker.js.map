{"version":3,"file":"ngx-datetime-range-picker.js.map","sources":["ng://ngx-datetime-range-picker/src/app/pipes/objNgFor.pipe.ts","ng://ngx-datetime-range-picker/src/app/dateTimeRangePicker/dateTimeRangePicker.constants.ts","ng://ngx-datetime-range-picker/src/app/dateTimeRangePicker/dateTimeRangePicker.utility.service.ts","ng://ngx-datetime-range-picker/src/app/dateTimeRangePicker/dateTimeRangePicker.component.ts","ng://ngx-datetime-range-picker/src/app/dateTimeRangePicker/dateTimeRangePicker.module.ts"],"sourcesContent":["import { Pipe, PipeTransform } from \"@angular/core\";\n\n/**\n * Iterate over {key: value}\n * Returns the keys of the object\n * Usage:\n *    let objKey of obj | ObjNgFor\n * Example:\n *    let obj = {a: 1, b: 2};\n *    *ngFor=\"let key of obj | ObjNgFor\"\n *    {{keys}}: {{obj[key]}}\n */\n\n@Pipe({ name: \"ObjNgFor\", pure: false })\nexport class ObjNgFor implements PipeTransform {\n  public transform(value: any, args: any[] = null): any {\n    return Object.keys(value); // .map(key => value[key]);\n  }\n}\n","declare var require: any;\nconst moment = require(\"moment\");\nconst USA_MST_TZ_CODE = \"MST\";\nconst USA_TZ_CODE = \"PST\";\nconst EU_TZ_CODE = \"CET\";\n\nexport const DateRangePickerConstants = {\n  DEFAULT: {\n    TYPE: \"daily\",\n    INPUT_CLASS: \"m1drp\",\n    DATE_FROMAT: \"YYYY-MM-DD\",\n    TIME_FORMAT: \"HH:mm\",\n    START_DATE: moment().format(\"YYYY-MM-DD\"),\n    END_DATE: moment().format(\"YYYY-MM-DD\"),\n    MIN_DATE: moment()\n      .subtract(2, \"year\")\n      .startOf(\"year\")\n      .format(\"YYYY-MM-DD\"),\n    MAX_DATE: moment().format(\"YYYY-MM-DD\"),\n    START_TIME: \"00:00\",\n    END_TIME: \"23:59\",\n    MODEL_KEYS: [\"daily\", \"weekly\", \"monthly\", \"quarterly\", \"yearly\"],\n    TZ_CODE: USA_MST_TZ_CODE,\n  },\n  CONSTANT: {\n    MONTHS_AVAILABLE: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n    USA_MST_TZ_CODE,\n    USA_TZ_CODE,\n    EU_TZ_CODE,\n    TZ_CODES: [USA_TZ_CODE, EU_TZ_CODE],\n    OFFSETS: {\n      [USA_TZ_CODE]: {\n        SO: -7,\n        WO: -8,\n      },\n      [EU_TZ_CODE]: {\n        SO: 1,\n        WO: 0,\n      },\n    },\n    TZ_NAMES: {\n      [USA_MST_TZ_CODE]: \"America/Phoenix\",\n      [USA_TZ_CODE]: \"America/Los_Angeles\",\n      [EU_TZ_CODE]: \"Europe/Berlin\",\n    },\n  },\n};\n","import { Injectable } from \"@angular/core\";\nimport { DateRangePickerConstants } from \"./dateTimeRangePicker.constants\";\nimport { AriaLabelsOptions, DateTimeRangePickerOptions, DateTimeRangePickerSettings } from \"./interfaces/index\";\n\ndeclare var require: any;\nconst moment = require(\"moment\");\nconst _ = require(\"lodash\");\n\nconst DEFAULT_TYPE = DateRangePickerConstants.DEFAULT.TYPE;\nconst DEFAULT_INPUT_CLASS = DateRangePickerConstants.DEFAULT.INPUT_CLASS;\nconst DEFAULT_DATE_FROMAT = DateRangePickerConstants.DEFAULT.DATE_FROMAT;\nconst DEFAULT_TIME_FORMAT = DateRangePickerConstants.DEFAULT.TIME_FORMAT;\nconst DEFAULT_START_DATE = DateRangePickerConstants.DEFAULT.START_DATE;\nconst DEFAULT_END_DATE = DateRangePickerConstants.DEFAULT.END_DATE;\nconst DEFAULT_MIN_DATE = DateRangePickerConstants.DEFAULT.MIN_DATE;\nconst DEFAULT_MAX_DATE = DateRangePickerConstants.DEFAULT.MAX_DATE;\nconst DEFAULT_START_TIME = DateRangePickerConstants.DEFAULT.START_TIME;\nconst DEFAULT_END_TIME = DateRangePickerConstants.DEFAULT.END_TIME;\nconst DEFAULT_MODEL_KEYS = DateRangePickerConstants.DEFAULT.MODEL_KEYS;\nconst MONTHS_AVAILABLE = DateRangePickerConstants.CONSTANT.MONTHS_AVAILABLE;\nconst DEFAULT_TIMEZONE_CODE = DateRangePickerConstants.DEFAULT.TZ_CODE;\nconst EU_TZ_CODE = DateRangePickerConstants.CONSTANT.EU_TZ_CODE;\nconst TZ_NAMES = DateRangePickerConstants.CONSTANT.TZ_NAMES;\n\n@Injectable()\nexport class DateTimeRangePickerUtilityService {\n  public getNotAvailableText(): string {\n    return \"N/A\";\n  }\n  public getDefaultAriaLabelOptions(): AriaLabelsOptions {\n    return {\n      inputField: \"Date Range Input Field\" as string,\n    };\n  }\n\n  public getDefaultOptions(): DateTimeRangePickerOptions {\n    return {\n      dateArray: [] as string[],\n      startDate: DEFAULT_START_DATE as string,\n      endDate: DEFAULT_END_DATE as string,\n      minDate: DEFAULT_MIN_DATE as string,\n      maxDate: DEFAULT_MAX_DATE as string,\n      startTime: DEFAULT_START_TIME as string,\n      endTime: DEFAULT_END_TIME as string,\n    };\n  }\n\n  public getDefaultSettings(): DateTimeRangePickerSettings {\n    return {\n      type: DEFAULT_TYPE as string,\n      modelKeys: DEFAULT_MODEL_KEYS as string[],\n      selectedModel: undefined as string,\n      showTimezoneSelect: false as boolean,\n      useLocalTimezone: false as boolean,\n      timePicker: false as boolean,\n      inputClass: DEFAULT_INPUT_CLASS as string,\n      inputDateFormat: null as string,\n      viewDateFormat: DEFAULT_DATE_FROMAT as string,\n      outputDateFormat: DEFAULT_DATE_FROMAT as string,\n      singleDatePicker: false as boolean,\n      componentDisabled: false as boolean,\n      placeholder: \"Select Date\" as string,\n      showRowNumber: true as boolean,\n      availableRanges: {} as Object,\n      showRanges: true as boolean,\n      disableWeekends: false as boolean,\n      disableWeekdays: false as boolean,\n      retailCalendar: false as boolean,\n      displayBeginDate: false as boolean,\n      displayEndDate: false as boolean,\n      ariaLabels: this.getDefaultAriaLabelOptions() as AriaLabelsOptions,\n    };\n  }\n\n  public formatDateToDefaultFormat(date, format = DEFAULT_DATE_FROMAT): string {\n    let fromattedDate = null;\n    if (date) {\n      if (!isNaN(Number(date))) {\n        fromattedDate = moment(date).format(DEFAULT_DATE_FROMAT);\n      } else {\n        if (!format) {\n          format = moment(date)._f;\n        } else {\n          if (format != moment(date)._f) {\n            console.warn(\n              \"M1 Date Range Picker: The provided Input Date Format and provided Date are not in same format\",\n            );\n          }\n        }\n        if (!format) {\n          console.warn(\n            \"M1 Date Range Picker: The provided date is not in any known format. Please pass the format or pass the date in any known format\",\n          );\n        }\n        fromattedDate = moment(date, format).format(DEFAULT_DATE_FROMAT);\n      }\n    }\n\n    return fromattedDate;\n  }\n\n  public formatTimeToDefaultFormat(time) {\n    let formattedTime = null;\n    if (time) {\n      if (time.indexOf(\":\") > -1) {\n        if (time.indexOf(\"AM\") > -1 || time.indexOf(\"PM\") > -1) {\n          formattedTime = moment(time, \"h:mm A\").format(DEFAULT_TIME_FORMAT);\n        } else {\n          formattedTime = time;\n        }\n      } else {\n        console.warn(\"M1 Date Range Picker: The provided time is not in correct format. Format: HH:mm or hh:mm A\");\n      }\n    }\n    return formattedTime;\n  }\n\n  public getFrequencyColumnHeader(type) {\n    return (() => {\n      switch (type) {\n        case \"daily\":\n          return \"W#\";\n        case \"weekly\":\n          return \"\";\n        case \"monthly\":\n          return \"Q#\";\n        case \"quarterly\":\n          return \"Year\";\n        case \"yearly\":\n          return \"\";\n      }\n    })();\n  }\n\n  public getCalendarRowNumberText(type, number) {\n    return (() => {\n      switch (type) {\n        case \"daily\":\n          return `W${number}`;\n        case \"weekly\":\n          return \"\";\n        case \"monthly\":\n          return `Q${number}`;\n        case \"quarterly\":\n          return `${number}`;\n        case \"yearly\":\n          return \"\";\n      }\n    })();\n  }\n\n  public createDefaultRanges(config): Object {\n    const ranges = {};\n    const type = config.type;\n    const maxDate = _.cloneDeep(config.maxDate);\n    const formattedMaxDate = this.formatDateToDefaultFormat(maxDate, DEFAULT_DATE_FROMAT);\n\n    if (type == \"daily\") {\n      ranges[\"Last 7 Days\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(6, \"days\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n      ranges[\"Last 30 Days\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(29, \"days\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n      ranges[\"Last 90 Days\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(89, \"days\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n    } else if (type == \"weekly\") {\n      ranges[\"Last 4 Weeks\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(3, \"weeks\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n      ranges[\"Last 13 Weeks\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(12, \"weeks\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n      ranges[\"Last 26 Weeks\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(25, \"weeks\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n    } else if (type == \"monthly\") {\n      // if(retailCalendar) ? subtract(3, 'months')....so on for 'Last 3 Months'....so on\n      ranges[\"Last 3 Months\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(2, \"months\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n      ranges[\"Last 6 Months\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(5, \"months\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n      ranges[\"Last 9 Months\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(8, \"months\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n    } else if (type == \"quarterly\") {\n      // if(retailCalendar) ? subtract(1, 'quarters')....so on for 'Last 2 Quarters'....so on\n      ranges[\"Last 2 Quarters\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(1, \"quarters\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n      ranges[\"Last 4 Quarters\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(3, \"quarters\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n    } else if (type == \"yearly\") {\n      ranges[\"Last Year\"] = {\n        startDate: moment(formattedMaxDate, DEFAULT_DATE_FROMAT)\n          .subtract(1, \"year\")\n          .format(DEFAULT_DATE_FROMAT),\n        endDate: formattedMaxDate,\n      };\n    }\n    ranges[\"Custom Range\"] = { startDate: null, endDate: null };\n    return ranges;\n  }\n\n  public getSanitizedDateArray(config) {\n    const sanitizedDateArray = [];\n    const type = config.type;\n    const dateArray = config.dateArray;\n    const inputDateFormat = config.inputDateFormat;\n\n    // dateArray can have nulls\n    _.forEach(dateArray, (date) => {\n      if (date) {\n        let format = null;\n        if (isNaN(Number(date))) {\n          if (inputDateFormat) {\n            format = inputDateFormat;\n          } else {\n            format = moment(date)._f;\n          }\n        }\n\n        if (inputDateFormat != moment(date)._f) {\n          console.warn(\n            \"M1 Date Range Picker: Provided inputDateFormat != Date Format in dateArray. Converted dates might not be as expected\",\n          );\n        }\n\n        let value = format ? moment(date, format).format(format) : moment(date).valueOf();\n        if (type == \"weekly\") {\n          value = format\n            ? moment(date, format)\n                .endOf(\"week\")\n                .format(format)\n            : moment(date)\n                .endOf(\"week\")\n                .valueOf();\n        } else if (type == \"monthly\") {\n          value = format\n            ? moment(date, format)\n                .endOf(\"month\")\n                .format(format)\n            : moment(date)\n                .endOf(\"month\")\n                .valueOf();\n        } else if (type == \"quarterly\") {\n          value = format\n            ? moment(date, format)\n                .endOf(\"quarter\")\n                .format(format)\n            : moment(date)\n                .endOf(\"quarter\")\n                .valueOf();\n        } else if (type == \"yearly\") {\n          value = format\n            ? moment(date, format)\n                .endOf(\"year\")\n                .format(format)\n            : moment(date)\n                .endOf(\"year\")\n                .valueOf();\n        }\n        if (value) {\n          sanitizedDateArray.push(value);\n        } else {\n          console.warn(\n            \"M1 Date Range Picker: Values in Date Array are not in any known format. Please pass the format or pass the dates in any known format\",\n          );\n        }\n      }\n    });\n\n    return _.uniqBy(sanitizedDateArray);\n  }\n\n  public getNumberOfWeeks(date): number {\n    let numberOfWeeks = null;\n    if (date) {\n      const monthStart: number = moment(date, DEFAULT_DATE_FROMAT)\n        .startOf(\"month\")\n        .day();\n      const monthEnd: number = Number(\n        moment(date, DEFAULT_DATE_FROMAT)\n          .endOf(\"month\")\n          .format(\"D\"),\n      );\n      numberOfWeeks = Math.ceil((monthStart + monthEnd) / 7);\n    }\n    return numberOfWeeks;\n  }\n\n  public getYearlyWeekCount(year, retailCalendar?) {\n    let weekCount: number = null;\n    if (year) {\n      const yearStartDate = moment(year, \"YYYY\")\n        .startOf(\"year\")\n        .format(DEFAULT_DATE_FROMAT);\n      const yearEndDate = moment(year, \"YYYY\")\n        .endOf(\"year\")\n        .format(DEFAULT_DATE_FROMAT);\n      const yearEndWeekEndDate = moment(yearEndDate, DEFAULT_DATE_FROMAT)\n        .startOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n\n      const yearStartWeekEndDate = moment(yearStartDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n\n      const yearSartWeekNumber = this.getWeekNumber(yearStartWeekEndDate);\n      const yearEndWeekNumber = this.getWeekNumber(yearEndWeekEndDate);\n      weekCount = yearEndWeekNumber - yearSartWeekNumber + 1;\n    }\n    return weekCount;\n  }\n\n  public getMonthsAvailable(minDate, maxDate, selectedYear) {\n    const months = [];\n    if (minDate && maxDate && selectedYear) {\n      let minDatems = moment(minDate, DEFAULT_DATE_FROMAT).valueOf();\n      let maxDatems = moment(maxDate, DEFAULT_DATE_FROMAT).valueOf();\n      const yearStartms = moment()\n        .year(selectedYear)\n        .startOf(\"year\")\n        .valueOf();\n      const yearEndms = moment()\n        .year(selectedYear)\n        .endOf(\"year\")\n        .valueOf();\n\n      if (minDatems < yearStartms) {\n        minDatems = yearStartms;\n      }\n      if (maxDatems > yearEndms) {\n        maxDatems = yearEndms;\n      }\n\n      let minDateMonthNumber = moment(minDatems).month();\n      const diff: number = moment(maxDatems).diff(moment(minDatems), \"months\");\n      const maxMonths = diff < MONTHS_AVAILABLE.length ? diff : MONTHS_AVAILABLE.length;\n\n      for (let i = 0; i <= maxMonths; i++) {\n        if (minDateMonthNumber >= MONTHS_AVAILABLE.length) {\n          months.push(MONTHS_AVAILABLE[minDateMonthNumber - MONTHS_AVAILABLE.length]);\n        } else {\n          months.push(MONTHS_AVAILABLE[minDateMonthNumber]);\n        }\n        minDateMonthNumber++;\n      }\n    }\n    return months;\n  }\n\n  public getYearsAvailable(config) {\n    const minDate = config ? config.minDate : \"\";\n    const maxDate = config ? config.maxDate : \"\";\n    const years = [];\n    if (minDate && maxDate) {\n      const minYear = Number(this.getSelectedYear(config, minDate, \"left\"));\n      const maxYear = Number(this.getSelectedYear(config, maxDate, \"right\"));\n      const diff = maxYear - minYear;\n\n      for (let i = 0; i <= diff; i++) {\n        years.push(`${minYear + i}`);\n      }\n    }\n    return years.reverse();\n  }\n\n  public isDateAvailable(date, minDate, maxDate, startDate, endDate, monthStartDate, monthEndDate, config): boolean {\n    let available = false;\n    const type = config.type;\n    const dateArray = config.dateArray ? config.dateArray : [];\n    const inputDateFormat = config.inputDateFormat;\n    const disableWeekends = config.disableWeekends;\n    const disableWeekdays = config.disableWeekdays;\n    if (type == \"daily\") {\n      minDate = minDate > monthStartDate ? minDate : monthStartDate;\n      maxDate = maxDate < monthEndDate ? maxDate : monthEndDate;\n    }\n\n    // if(date == minDate\n    //     || date == maxDate) {\n    //   available = true;\n    // }\n\n    if (date >= minDate && date <= maxDate) {\n      if (dateArray.length > 0) {\n        available = _.some(dateArray, (d) => {\n          let format = null;\n          if (isNaN(Number(date))) {\n            if (inputDateFormat) {\n              format = inputDateFormat;\n            } else {\n              format = moment(date)._f;\n            }\n          }\n          return moment(d, format).valueOf() == date;\n        });\n      } else {\n        available = true;\n      }\n\n      if (available) {\n        if (disableWeekends) {\n          available = !this.isWeekend(date);\n        }\n        if (disableWeekdays) {\n          available = !this.isWeekday(date);\n        }\n      }\n    }\n    return available;\n  }\n\n  public isDateInRange(\n    date,\n    minDate,\n    maxDate,\n    startDate,\n    endDate,\n    monthStartDate,\n    monthEndDate,\n    available,\n    config,\n  ): boolean {\n    let inRange = false;\n    const type = config.type;\n    const singleDatePicker = config.singleDatePicker;\n    if (!singleDatePicker) {\n      if (type == \"daily\") {\n        minDate = monthStartDate;\n        maxDate = monthEndDate;\n      }\n      if (date >= startDate && date <= endDate && date >= minDate && date <= maxDate) {\n        if (available) {\n          inRange = true;\n        }\n      }\n    }\n    return inRange;\n  }\n\n  public isDateActive(date, startDate, endDate, side): boolean {\n    let active = false;\n    if ((date == startDate && side == \"left\") || (date == endDate && side == \"right\")) {\n      active = true;\n    }\n    return active;\n  }\n\n  public isDateToday(date, config): boolean {\n    let today = false;\n    const todayDate = moment()\n      .startOf(\"day\")\n      .valueOf();\n    const type = config.type;\n    const firstLastDay = this.getFirstLastDay(moment(todayDate).format(DEFAULT_DATE_FROMAT), type);\n    const firstDay = moment(firstLastDay.firstDay, DEFAULT_DATE_FROMAT).valueOf();\n    const lastDay = moment(firstLastDay.lastDay, DEFAULT_DATE_FROMAT).valueOf();\n    if (date >= firstDay && date <= lastDay) {\n      today = true;\n    }\n    return today;\n  }\n\n  public isWeekday(date, format?) {\n    return !this.isWeekend(date, format);\n  }\n\n  public isWeekend(date, format?) {\n    if (!format) {\n      format = null;\n    }\n    const day = moment(date, format).day();\n    return day == 0 || day == 6 ? true : false;\n  }\n\n  public getCalendarRowVariables(options) {\n    const variables: any = {};\n    const type = options.type;\n    const monthStartWeekNumber = options.monthStartWeekNumber;\n    const dateRows = options.dateRows;\n    const year = `${options.year}`;\n\n    if (type == \"daily\") {\n      variables.rowNumber = monthStartWeekNumber + dateRows;\n      variables.columns = 6;\n    } else if (type == \"weekly\") {\n      // variables.rowNumber = `${(dateRows*2)+1} - ${(dateRows*2)+2}`;\n      variables.rowNumber = ``;\n      variables.columns = 6;\n    } else if (type == \"monthly\") {\n      variables.rowNumber = dateRows + 1;\n      variables.columns = 2;\n    } else if (type == \"quarterly\") {\n      variables.rowNumber = year.charAt(dateRows);\n      variables.columns = 0;\n    } else if (type == \"yearly\") {\n      variables.rowNumber = \"\";\n      variables.columns = 0;\n    }\n\n    return variables;\n  }\n\n  public getCalendarRowItemVariables(options) {\n    const variables: any = {\n      currentItemDate: \"\",\n      rowItemText: \"\",\n      itemCount: null,\n    };\n    const type = options.type;\n    const monthStartWeekNumber = options.monthStartWeekNumber;\n    const yearStartDate = options.yearStartDate;\n    const year = options.year;\n    const rowItem = options.rowItem;\n    const dateRows = options.dateRows;\n    const columns = options.columns;\n    const itemCount = rowItem + dateRows * columns + dateRows;\n    let currentItemDate = \"\";\n    let rowItemText = \"\";\n    let firstLastDayObject: any = {};\n\n    if (type == \"daily\") {\n      if (!_.isNil(monthStartWeekNumber) && !_.isNil(dateRows) && !_.isNil(year)) {\n        const yearStartDate = moment()\n          .year(year)\n          .startOf(\"year\")\n          .format(DEFAULT_DATE_FROMAT);\n        currentItemDate = moment(yearStartDate, DEFAULT_DATE_FROMAT)\n          .add(monthStartWeekNumber + dateRows - 1, \"week\")\n          .startOf(\"week\")\n          .add(rowItem, \"day\")\n          .format(DEFAULT_DATE_FROMAT);\n        rowItemText = moment(currentItemDate, DEFAULT_DATE_FROMAT).format(\"D\");\n      }\n    } else if (type == \"weekly\") {\n      if (!_.isNil(yearStartDate) && !_.isNil(itemCount)) {\n        currentItemDate = moment(yearStartDate, DEFAULT_DATE_FROMAT)\n          .add(itemCount, \"week\")\n          .endOf(\"week\")\n          .format(DEFAULT_DATE_FROMAT);\n        const weekNumber: any = itemCount + 1;\n        rowItemText = `W${weekNumber}`;\n      }\n    } else if (type == \"monthly\") {\n      if (!_.isNil(itemCount) && !_.isNil(year)) {\n        currentItemDate = moment()\n          .year(year)\n          .month(itemCount)\n          .endOf(\"month\")\n          .format(DEFAULT_DATE_FROMAT);\n        rowItemText = moment(currentItemDate, DEFAULT_DATE_FROMAT).format(\"MMM\");\n      }\n    } else if (type == \"quarterly\") {\n      if (!_.isNil(itemCount) && !_.isNil(year)) {\n        currentItemDate = moment()\n          .year(year)\n          .quarter(itemCount + 1)\n          .endOf(\"quarter\")\n          .format(DEFAULT_DATE_FROMAT);\n        rowItemText = `Quarter ${itemCount + 1}`;\n      }\n    }\n\n    firstLastDayObject = this.getFirstLastDay(currentItemDate, type);\n\n    variables.itemCount = itemCount;\n    variables.currentItemDate = currentItemDate;\n    variables.rowItemText = rowItemText;\n    variables.firstDay = firstLastDayObject.firstDay;\n    variables.lastDay = firstLastDayObject.lastDay;\n    return variables;\n  }\n\n  public isRowIemValid(options): boolean {\n    let valid = false;\n    const type = options.type;\n    const year = options.year;\n    const itemCount = options.itemCount;\n    const retailCalendar = options.retailCalendar;\n    const validWeekCount = this.getYearlyWeekCount(year, retailCalendar);\n\n    if (type == \"daily\") {\n      valid = true;\n    } else if (type == \"weekly\") {\n      if (itemCount < validWeekCount) {\n        valid = true;\n      }\n    } else if (type == \"monthly\") {\n      return true;\n    } else if (type == \"quarterly\") {\n      return true;\n    }\n\n    return valid;\n  }\n\n  public formatStartDate(config, returnFormat) {\n    const startDate = config ? config.startDate : null;\n    const type = config ? config.type : \"\";\n    let formattedStartDate = null;\n\n    if (startDate) {\n      formattedStartDate = moment(startDate, DEFAULT_DATE_FROMAT).format(returnFormat);\n      if (type == \"weekly\") {\n        formattedStartDate = moment(startDate, DEFAULT_DATE_FROMAT)\n          .startOf(\"week\")\n          .format(returnFormat);\n      } else if (type == \"monthly\") {\n        formattedStartDate = moment(startDate, DEFAULT_DATE_FROMAT)\n          .startOf(\"month\")\n          .format(returnFormat);\n      } else if (type == \"quarterly\") {\n        formattedStartDate = moment(startDate, DEFAULT_DATE_FROMAT)\n          .startOf(\"quarter\")\n          .format(returnFormat);\n      } else if (type == \"yearly\") {\n        formattedStartDate = moment(startDate, DEFAULT_DATE_FROMAT)\n          .startOf(\"year\")\n          .format(returnFormat);\n      }\n    }\n\n    return formattedStartDate;\n  }\n\n  public getSelectedYear(config, date, side): string {\n    return moment(date, DEFAULT_DATE_FROMAT).format(\"YYYY\");\n  }\n\n  public getFirstLastDay(date, type) {\n    let firstDay = \"\";\n    let lastDay = \"\";\n\n    if (type == \"daily\") {\n      firstDay = lastDay = date;\n    } else if (type == \"weekly\") {\n      firstDay = moment(date, DEFAULT_DATE_FROMAT)\n        .startOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n      lastDay = moment(date, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n    } else if (type == \"monthly\") {\n      firstDay = moment(date, DEFAULT_DATE_FROMAT)\n        .startOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n      lastDay = moment(date, DEFAULT_DATE_FROMAT)\n        .endOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n    } else if (type == \"quarterly\") {\n      firstDay = moment(date, DEFAULT_DATE_FROMAT)\n        .startOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n      lastDay = moment(date, DEFAULT_DATE_FROMAT)\n        .endOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n    } else if (type == \"yearly\") {\n      firstDay = moment(date, DEFAULT_DATE_FROMAT)\n        .startOf(\"year\")\n        .format(DEFAULT_DATE_FROMAT);\n      lastDay = moment(date, DEFAULT_DATE_FROMAT)\n        .endOf(\"year\")\n        .format(DEFAULT_DATE_FROMAT);\n    }\n\n    return {\n      firstDay,\n      lastDay,\n    };\n  }\n\n  public getLocalTimezone() {\n    let tz = /\\((.*)\\)/.exec(new Date().toString())[1];\n\n    if (tz == \"Central Europe Standard Time\") {\n      tz = EU_TZ_CODE;\n    } else {\n      tz = DEFAULT_TIMEZONE_CODE;\n    }\n\n    return tz;\n  }\n\n  public getZoneDate(tz, format, date?) {\n    if (date) {\n      date = moment(date, format)\n        .startOf(\"day\")\n        .valueOf();\n    } else {\n      date = moment().valueOf();\n    }\n\n    let today = new Date(date).toLocaleString(\"en-US\", {\n      timeZone: TZ_NAMES[tz],\n    });\n    today = moment(today, \"MM/DD/YYYY, hh:mm:ss A\");\n    return today;\n  }\n\n  public getZoneToday(tz, viewDateFormat) {\n    const today = this.getZoneDate(tz, viewDateFormat);\n    return moment(today).format(`${viewDateFormat}  hh:mm A`);\n  }\n\n  public formatToZoneDate(tz, format, date) {\n    const formattedDate = this.getZoneDate(tz, format, date);\n    return moment(formattedDate).format(`${format}`);\n  }\n\n  public convertToViewTimeItem(item) {\n    let stringified_item = item + \"\";\n    if (stringified_item.length == 1) {\n      stringified_item = `0${stringified_item}`;\n    }\n    return stringified_item;\n  }\n\n  public getWeekNumber(date): any {\n    if (date) {\n      const year = moment(date, \"YYYY-MM-DD\").year();\n      const month = moment(date, \"YYYY-MM-DD\").month();\n      const day = Number(moment(date, \"YYYY-MM-DD\").format(\"D\"));\n\n      const yearStartms = new Date(year, 0, 1);\n      const datems = new Date(year, month, day);\n      return Math.ceil(((datems.getTime() - yearStartms.getTime()) / 86400000 + yearStartms.getDay() + 1) / 7);\n    } else {\n      console.warn(\"getWeekNumber: Invalid date\");\n      return this.getNotAvailableText();\n    }\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  Renderer,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation,\n} from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { DateRangePickerConstants } from \"./dateTimeRangePicker.constants\";\nimport { DateTimeRangePickerUtilityService } from \"./dateTimeRangePicker.utility.service\";\nimport {\n  CalendarSides,\n  DateRangeModelItem,\n  DateTimeRangePickerOptions,\n  DateTimeRangePickerSettings,\n} from \"./interfaces/index\";\n\ndeclare var require: any;\nconst moment = require(\"moment\");\nconst _ = require(\"lodash\");\n\nenum InputFocusBlur {\n  focus = 1,\n  blur = 2,\n}\n\nconst DEFAULT_DATE_FROMAT = DateRangePickerConstants.DEFAULT.DATE_FROMAT;\nconst DEFAULT_TIME_FORMAT = DateRangePickerConstants.DEFAULT.TIME_FORMAT;\nconst DEFAULT_START_DATE = DateRangePickerConstants.DEFAULT.START_DATE;\nconst DEFAULT_END_DATE = DateRangePickerConstants.DEFAULT.END_DATE;\nconst DEFAULT_MIN_DATE = DateRangePickerConstants.DEFAULT.MIN_DATE;\nconst DEFAULT_MAX_DATE = DateRangePickerConstants.DEFAULT.MAX_DATE;\nconst DEFAULT_START_TIME = DateRangePickerConstants.DEFAULT.START_TIME;\nconst DEFAULT_END_TIME = DateRangePickerConstants.DEFAULT.END_TIME;\nconst TZ_CODES = DateRangePickerConstants.CONSTANT.TZ_CODES;\nconst USA_TZ_CODE = DateRangePickerConstants.CONSTANT.USA_TZ_CODE;\n\n@Component({\n  selector: \"b-date-range-picker\",\n  templateUrl: \"./dateTimeRangePicker.component.html\",\n  styleUrls: [\"./dateTimeRangePicker.component.scss\"],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class DateTimeRangePickerComponent implements OnChanges {\n  @Input() public options: DateTimeRangePickerOptions;\n  @Input() public settings: DateTimeRangePickerSettings;\n  @Input() public optionService: Observable<any>;\n  @Input() public dateRangeModel: Object;\n  @Input() public canBeEmpty = false;\n  @Output() public dateRangeModelChange: EventEmitter<Object> = new EventEmitter<Object>();\n  @Output() public dateRangeChanged: EventEmitter<DateRangeModelItem> = new EventEmitter<DateRangeModelItem>();\n  @Output() public inputFocusBlur: EventEmitter<Object> = new EventEmitter<Object>();\n  @Output() public selectedDate: EventEmitter<Object> = new EventEmitter<Object>();\n  @ViewChild(\"filterInputBox\") public filterInputBox: any;\n\n  public sides: string[] = [];\n  public dates: CalendarSides = {\n    left: {} as Object,\n    right: {} as Object,\n  };\n  public calendarAvailable: CalendarSides = {\n    left: false as boolean,\n    right: false as boolean,\n  };\n  public showCalendar = false;\n  public customRange = false;\n  public selectedDateText = \"\";\n  public dateTitleText: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string,\n  };\n  public weekDayOptions: string[] = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"];\n  public selectedMonth: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string,\n  };\n  public selectedYear: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string,\n  };\n  public activeItem: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string,\n  };\n  public activeStartDate: string = null;\n  public activeEndDate: string = null;\n  public activeRange: string = null;\n  public frequencyColumnHeader: string = null;\n\n  public config: any = {};\n\n  public isValidFilter = false;\n  public isUserModelChange = true;\n\n  public timezones: string[] = TZ_CODES;\n  public localTimezone: string = this.dateTimeRangePickerUtilityService.getLocalTimezone();\n  // Since 'useLocalTimezone: false' byDefault;\n  public selectedTimezone: string;\n  public todayTime = \"\";\n\n  public timeItems: string[] = [\"hour\", \"minute\"];\n  public times: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string,\n  };\n  public selectedHour: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string,\n  };\n  public selectedMinute: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string,\n  };\n  public selectedMeridian: CalendarSides = {\n    left: \"\" as string,\n    right: \"\" as string,\n  };\n\n  constructor(\n    public element: ElementRef,\n    private renderer: Renderer,\n    private dateTimeRangePickerUtilityService: DateTimeRangePickerUtilityService,\n  ) {\n    this.options = this.dateTimeRangePickerUtilityService.getDefaultOptions();\n    this.settings = this.dateTimeRangePickerUtilityService.getDefaultSettings();\n    this.config = Object.assign(this.options, this.settings);\n\n    this.todayTime = this.dateTimeRangePickerUtilityService.getZoneToday(\n      this.selectedTimezone,\n      this.config.viewDateFormat,\n    );\n\n    this.renderer.listenGlobal(\"document\", \"click\", (event: any) => {\n      if (\n        this.showCalendar &&\n        event.target &&\n        event.target.className != \"mat-option-text\" &&\n        this.element.nativeElement !== event.target &&\n        !this.element.nativeElement.contains(event.target)\n      ) {\n        this.onCalendarClose(event);\n      }\n    });\n  }\n\n  public ngOnChanges(changes: SimpleChanges) {\n    this.isUserModelChange = true;\n\n    if (changes.canBeEmpty) {\n      this.canBeEmpty = changes.canBeEmpty.currentValue;\n    }\n\n    if (changes.settings) {\n      this.settings = _.merge(this.settings, changes.settings.currentValue);\n    }\n\n    if (changes.dateRangeModel) {\n      this.dateRangeModel = changes.dateRangeModel.currentValue;\n    }\n\n    // this.settings.selectedModel = (this.settings.selectedModel) ? this.settings.selectedModel : this.settings.type;\n\n    if (changes.dateRangeModel && !changes.dateRangeModel.firstChange) {\n      const previousValue = changes.dateRangeModel.previousValue[this.config.selectedModel];\n      const currentValue = changes.dateRangeModel.currentValue[this.config.selectedModel];\n      if (\n        previousValue &&\n        currentValue &&\n        previousValue.startDate == currentValue.startDate &&\n        previousValue.endDate == currentValue.endDate\n      ) {\n        this.isUserModelChange = false;\n      }\n    }\n\n    if (changes.optionService && changes.optionService.currentValue) {\n      changes.optionService.currentValue.subscribe(\n        (dateOptions: any) => {\n          if (_.isObject(dateOptions) && !_.isArray(dateOptions)) {\n            this.options = dateOptions.plain ? dateOptions.plain() : dateOptions;\n          }\n        },\n        (err) => {\n          console.error(\"DateRangePickerComponent | Filter Call Failure: \", err);\n        },\n        () => {\n          this.init();\n        },\n      );\n    }\n\n    if (changes.options) {\n      this.options = changes.options ? changes.options.currentValue : this.options;\n    }\n\n    if (!changes.optionService) {\n      this.init();\n    }\n  }\n\n  // Events\n  public onDateRangeInputChange(value: string) {\n    this.dateRangeSelected();\n  }\n\n  public setDisabledState(disabled: boolean): void {\n    this.config.componentDisabled = disabled;\n  }\n\n  public onComponentClick(): void {\n    this.showCalendar = !this.showCalendar;\n  }\n\n  public onFocusInput(event: any): void {\n    this.inputFocusBlur.emit({\n      reason: InputFocusBlur.focus,\n      value: event.target.value,\n    });\n  }\n\n  public onBlurInput(event: any): void {\n    this.selectedDateText = event.target.value;\n    this.inputFocusBlur.emit({\n      reason: InputFocusBlur.blur,\n      value: event.target.value,\n    });\n  }\n\n  public onCalendarClose(event: any): void {\n    if (this.config.startDate && this.config.endDate) {\n      this.filterInputBox.nativeElement.classList.remove(\"empty-filter\");\n      this.showCalendar = false;\n    } else {\n      // this.filterInputBox.nativeElement.classList.add('empty-filter');\n    }\n  }\n\n  public isPrevAvailale(month) {\n    const minDate = this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n      this.config.minDate,\n      DEFAULT_DATE_FROMAT,\n    );\n    const currentMonthStartDate = moment(month, \"MMM YYYY\")\n      .startOf(\"month\")\n      .valueOf();\n    if (\n      currentMonthStartDate >\n      moment(minDate, DEFAULT_DATE_FROMAT)\n        .startOf(\"month\")\n        .valueOf()\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  public isNextAvailale(month) {\n    const maxDate = this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n      this.config.maxDate,\n      DEFAULT_DATE_FROMAT,\n    );\n    const currentMonthEndDate = moment(month, \"MMM YYYY\")\n      .endOf(\"month\")\n      .valueOf();\n    if (\n      currentMonthEndDate <\n      moment(maxDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"month\")\n        .valueOf()\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  public getCalendarColspan() {\n    if (this.config.type == \"daily\") {\n      return 6;\n    } else if (this.config.type == \"weekly\") {\n      return 8;\n    } else if (this.config.type == \"monthly\") {\n      return 3;\n    } else if (this.config.type == \"quarterly\") {\n      return 1;\n    } else if (this.config.type == \"yearly\") {\n      return 1;\n    }\n  }\n\n  public getCalendarRowItemColspan() {\n    if (this.config.type == \"monthly\") {\n      return 3;\n    } else if (this.config.type == \"quarterly\") {\n      return 6;\n    } else if (this.config.type == \"yearly\") {\n      return 6;\n    }\n  }\n\n  public getDatecharacteristics(date, month, side) {\n    const currentDate = moment(date, DEFAULT_DATE_FROMAT)\n      .startOf(\"day\")\n      .valueOf();\n    const minDate = moment(\n      this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(this.config.minDate, DEFAULT_DATE_FROMAT),\n      DEFAULT_DATE_FROMAT,\n    )\n      .startOf(\"day\")\n      .valueOf();\n    const maxDate = moment(\n      this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(this.config.maxDate, DEFAULT_DATE_FROMAT),\n      DEFAULT_DATE_FROMAT,\n    )\n      .startOf(\"day\")\n      .valueOf();\n    const startDate = moment(\n      this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(this.config.startDate, DEFAULT_DATE_FROMAT),\n      DEFAULT_DATE_FROMAT,\n    )\n      .startOf(\"day\")\n      .valueOf();\n    const endDate = moment(\n      this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(this.config.endDate, DEFAULT_DATE_FROMAT),\n      DEFAULT_DATE_FROMAT,\n    )\n      .startOf(\"day\")\n      .valueOf();\n    const currentMonthStartDate = moment(month, \"MMM YYYY\")\n      .startOf(\"month\")\n      .startOf(\"day\")\n      .valueOf();\n    const currentMonthEndDate = moment(month, \"MMM YYYY\")\n      .endOf(\"month\")\n      .startOf(\"day\")\n      .valueOf();\n\n    const available: boolean = this.dateTimeRangePickerUtilityService.isDateAvailable(\n      currentDate,\n      minDate,\n      maxDate,\n      startDate,\n      endDate,\n      currentMonthStartDate,\n      currentMonthEndDate,\n      this.config,\n    );\n    const inRange: boolean = this.dateTimeRangePickerUtilityService.isDateInRange(\n      currentDate,\n      minDate,\n      maxDate,\n      startDate,\n      endDate,\n      currentMonthStartDate,\n      currentMonthEndDate,\n      available,\n      this.config,\n    );\n    const active: boolean = this.dateTimeRangePickerUtilityService.isDateActive(currentDate, startDate, endDate, side);\n    const today: boolean = this.dateTimeRangePickerUtilityService.isDateToday(currentDate, this.config);\n\n    // Active\n    if (currentDate == startDate && side == \"left\") {\n      this.activeStartDate = date;\n    } else if (currentDate == endDate && side == \"right\") {\n      this.activeEndDate = date;\n    }\n\n    return {\n      available,\n      inRange,\n      active,\n      today,\n    };\n  }\n\n  public onClickPrevious(month, side) {\n    const startDate = moment(month, \"MMM YYYY\")\n      .subtract(1, \"month\")\n      .startOf(\"month\")\n      .format(DEFAULT_DATE_FROMAT);\n    this.dates[side] = this.generateCalendar(startDate, side);\n  }\n\n  public onClickNext(month, side) {\n    const endDate = moment(month, \"MMM YYYY\")\n      .add(1, \"month\")\n      .endOf(\"month\")\n      .format(DEFAULT_DATE_FROMAT);\n    this.dates[side] = this.generateCalendar(endDate, side);\n  }\n\n  public onCellClick(item, itemCell, side) {\n    const date = item.date ? moment(item.date, DEFAULT_DATE_FROMAT).valueOf() : item.date;\n    const startDate = this.config.startDate\n      ? moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.startDate;\n    const endDate = this.config.endDate\n      ? moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.endDate;\n    const minDate = this.config.minDate\n      ? moment(this.config.minDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.minDate;\n    const maxDate = this.config.maxDate\n      ? moment(this.config.maxDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.maxDate;\n\n    if (!item.available) {\n      if (date < minDate || date > maxDate) {\n        return;\n      }\n      this.dates[side] = this.generateCalendar(item.date, side);\n    }\n\n    if (endDate || date < startDate) {\n      this.config.endDate = null;\n      this.config.startDate = item.date;\n      this.activeItem.left = item;\n    } else if (!endDate && date < startDate) {\n      this.config.endDate = _.cloneDeep(this.config.startDate);\n      this.activeItem.right = item;\n    } else {\n      this.config.endDate = item.date;\n      this.activeItem.right = item;\n    }\n\n    if (this.config.singleDatePicker) {\n      this.config.endDate = _.cloneDeep(this.config.startDate);\n      this.activeItem.right = this.activeItem.left = item;\n    }\n\n    this.doApply();\n  }\n\n  public onCellMouseEnter(item, itemCell): void {\n    if (!item.available) {\n      return;\n    }\n\n    const date = item.date ? moment(item.date, DEFAULT_DATE_FROMAT).valueOf() : item.date;\n    const startDate = this.config.startDate\n      ? moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.startDate;\n    const endDate = this.config.endDate\n      ? moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf()\n      : this.config.endDate;\n    let hoverItemFirstDate = itemCell ? itemCell.getAttribute(\"firstDay\") : \"\";\n    let hoverItemLastDate = itemCell ? itemCell.getAttribute(\"lastDay\") : \"\";\n    const hoverItemText = itemCell ? itemCell.innerText : \"\";\n    hoverItemFirstDate = moment(hoverItemFirstDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n    hoverItemLastDate = moment(hoverItemLastDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n\n    let activeItemInputFieldText = `${hoverItemText} (${hoverItemFirstDate} - ${hoverItemLastDate})`;\n\n    if (this.config.type == \"daily\") {\n      activeItemInputFieldText = `${hoverItemLastDate}`;\n    }\n\n    if (!endDate) {\n      _.forOwn(this.dates, (sideDates, side) => {\n        _.forEach(sideDates.itemRows, (rows) => {\n          _.forEach(rows.items, (item) => {\n            if (item.available) {\n              const hoverItemDate = item.date ? moment(item.date, DEFAULT_DATE_FROMAT).valueOf() : item.date;\n              if ((hoverItemDate > startDate && hoverItemDate < date) || date == hoverItemDate) {\n                item.inRange = true;\n                this.dateTitleText.right = activeItemInputFieldText;\n              }\n            }\n          });\n        });\n      });\n    } else {\n      if (this.config.singleDatePicker) {\n        this.dateTitleText.right = activeItemInputFieldText;\n      } else {\n        this.dateTitleText.left = activeItemInputFieldText;\n      }\n    }\n  }\n\n  public onCellMouseLeave(): void {\n    if (!this.config.endDate) {\n      _.forOwn(this.dates, (sideDates, side) => {\n        _.forEach(sideDates.itemRows, (rows) => {\n          _.forEach(rows.items, (item) => {\n            item.inRange = false;\n          });\n        });\n      });\n    } else {\n      this.updateActiveItemInputField();\n    }\n  }\n\n  public onRangeClick(rangeLabel, dateRangeModel: any) {\n    this.activeRange = rangeLabel;\n    if (rangeLabel == \"Custom Range\") {\n      this.customRange = !this.customRange;\n      if (this.customRange) {\n        this.updateCalendar();\n      } else {\n        this.sides.length = 0;\n        this.dates = {};\n        if (this.config.timePicker) {\n          this.times = {};\n        }\n      }\n    } else {\n      this.config.startDate = dateRangeModel.startDate;\n      this.config.endDate = dateRangeModel.endDate;\n      if (this.config.timePicker) {\n        // _.forEach(this.sides, (side) => {\n        //   this.times[side] = this.generateTimePicker(null, side);\n        // })\n        if (this.config.timePicker) {\n          this.times = {};\n        }\n        this.updateCalendar();\n      }\n      this.setActiveItemOnRangeClick();\n    }\n  }\n\n  public updateCalendar() {\n    this.sides.length = 0;\n    this.dates = {};\n    // takes 223 milliSeconds\n    // Order is important left - right\n    if (!this.config.singleDatePicker) {\n      this.sides.push(\"left\");\n      this.dates.left = this.generateCalendar(this.config.startDate, \"left\");\n      if (this.config.timePicker) {\n        this.times.left = this.generateTimePicker(this.config.startTime, \"left\");\n      }\n    }\n    this.sides.push(\"right\");\n    this.dates.right = this.generateCalendar(this.config.endDate, \"right\");\n    if (this.config.timePicker) {\n      this.times.right = this.generateTimePicker(this.config.endTime, \"right\");\n    }\n  }\n\n  public onCalendarLabelChange(label, side, type) {\n    this.showCalendar = true;\n    if (type == \"month\") {\n      this.selectedMonth[side] = label;\n    } else if (type == \"year\") {\n      this.selectedYear[side] = label;\n    }\n\n    if (this.config.type != \"daily\") {\n      this.selectedMonth[side] = \"Jun\";\n    }\n\n    if (this.config.type != \"yearly\") {\n      const selectedMonth = `${this.selectedMonth[side]} ${this.selectedYear[side]}`;\n      const date = moment(selectedMonth, \"MMM YYYY\")\n        .startOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.dates[side] = this.generateCalendar(date, side);\n    } else {\n      if (this.selectedYear.left <= this.selectedYear.right && side == \"right\") {\n        this.config.startDate = moment(this.selectedYear.left, \"YYYY\")\n          .startOf(\"year\")\n          .format(DEFAULT_DATE_FROMAT);\n        this.config.endDate = moment(this.selectedYear.right, \"YYYY\")\n          .endOf(\"year\")\n          .format(DEFAULT_DATE_FROMAT);\n\n        this.doApply();\n      }\n      const config = {\n        startDate: moment(this.selectedYear.left, \"YYYY\")\n          .startOf(\"year\")\n          .format(DEFAULT_DATE_FROMAT),\n        type: \"yearly\",\n      };\n      const startDate = this.dateTimeRangePickerUtilityService.formatStartDate(config, this.config.viewDateFormat);\n      const endDate = this.config.endDate\n        ? moment(this.config.endDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat)\n        : \"\";\n      this.dateTitleText.left = `${startDate}`;\n      this.dateTitleText.right = `${endDate}`;\n    }\n  }\n\n  public onTimeLabelChange(timeItem, side, item) {\n    let time = null;\n    if (side == \"left\") {\n      time = this.config.startTime.split(\":\");\n      if (timeItem == \"hour\") {\n        this.config.startTime = `${item}:${time[1]}`;\n      } else {\n        this.config.startTime = `${time[0]}:${item}`;\n      }\n\n      const startDateEpoch = moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf();\n      const endDateEpoch = moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf();\n      if (startDateEpoch == endDateEpoch) {\n        this.times.right = this.generateTimePicker(this.config.startTime, \"right\");\n      }\n    } else {\n      time = this.config.endTime.split(\":\");\n      if (timeItem == \"hour\") {\n        this.config.endTime = `${item}:${time[1]}`;\n      } else {\n        this.config.endTime = `${time[0]}:${item}`;\n      }\n    }\n\n    if (timeItem == \"hour\") {\n      this.selectedHour[side] = this.dateTimeRangePickerUtilityService.convertToViewTimeItem(item);\n    } else {\n      this.selectedMinute[side] = this.dateTimeRangePickerUtilityService.convertToViewTimeItem(item);\n    }\n  }\n\n  public onTimeApply() {\n    this.dateRangeSelected();\n    this.updateInputField();\n  }\n\n  // Helpers\n  public init() {\n    if (this.isUserModelChange) {\n      this.isValidFilter = false;\n      this.config = Object.assign(\n        this.dateTimeRangePickerUtilityService.getDefaultOptions(),\n        this.dateTimeRangePickerUtilityService.getDefaultSettings(),\n      );\n      this.initialize();\n      this.parseOptions();\n      this.updateInputField();\n    }\n  }\n\n  public initialize() {\n    this.sides.length = 0;\n    this.dates = {};\n    this.calendarAvailable = {\n      left: false as boolean,\n      right: false as boolean,\n    };\n    this.showCalendar = false;\n    this.selectedDateText = \"\";\n    this.dateTitleText = {\n      left: \"\" as string,\n      right: \"\" as string,\n    };\n    this.weekDayOptions = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"];\n    this.selectedMonth = {\n      left: \"\" as string,\n      right: \"\" as string,\n    };\n    this.selectedYear = {\n      left: \"\" as string,\n      right: \"\" as string,\n    };\n    // this.activeItem = {\n    //   'left': <string> '',\n    //   'right': <string> ''\n    // };\n    this.times = {\n      left: \"\" as string,\n      right: \"\" as string,\n    };\n    this.activeStartDate = null;\n    this.activeEndDate = null;\n    this.frequencyColumnHeader = null;\n    this.customRange = false;\n    this.activeRange = \"\";\n  }\n\n  public parseOptions(): void {\n    if (this.options !== undefined) {\n      Object.keys(this.options).forEach((k) => {\n        this.config[k] = this.options[k];\n      });\n    }\n    if (this.settings !== undefined) {\n      Object.keys(this.settings).forEach((k) => {\n        this.config[k] = this.settings[k];\n      });\n    }\n\n    this.config.selectedModel = this.config.selectedModel ? this.config.selectedModel : this.config.type;\n\n    if (this.config.type == \"weekly\" || this.config.type == \"yearly\") {\n      this.config.showRowNumber = false;\n    }\n    if (this.config.singleDatePicker) {\n      this.config.startDate = _.cloneDeep(this.config.endDate);\n    }\n\n    this.selectTimeZone();\n    this.parseOptionsToDefaultDateFormat();\n    this.processDateRangeModel();\n    this.handleDateArray();\n    this.sanitizeDates();\n    this.processRanges();\n    this.doDateRangeModelChange();\n    // this.config.selectedModel = undefined;\n  }\n\n  public selectTimeZone() {\n    if (this.config.timezoneSupport) {\n      if (!this.config.defaultTimezone) {\n        this.config.defaultTimezone = USA_TZ_CODE;\n      }\n      this.selectedTimezone = this.config.defaultTimezone;\n    }\n\n    if (this.config.useLocalTimezone) {\n      this.selectedTimezone = this.localTimezone;\n    }\n    this.onTimezoneChange(this.selectedTimezone);\n  }\n\n  public parseOptionsToDefaultDateFormat() {\n    this.config.minDate = this.config.minDate\n      ? this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n          this.config.minDate,\n          this.config.inputDateFormat,\n        )\n      : DEFAULT_MIN_DATE;\n    this.config.maxDate = this.config.maxDate\n      ? this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n          this.config.maxDate,\n          this.config.inputDateFormat,\n        )\n      : DEFAULT_MAX_DATE;\n    this.config.startDate = this.config.startDate\n      ? this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n          this.config.startDate,\n          this.config.inputDateFormat,\n        )\n      : DEFAULT_START_DATE;\n    this.config.endDate = this.config.endDate\n      ? this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n          this.config.endDate,\n          this.config.inputDateFormat,\n        )\n      : DEFAULT_END_DATE;\n\n    if (this.config.timePicker) {\n      this.config.minTime = this.config.minTime\n        ? this.dateTimeRangePickerUtilityService.formatTimeToDefaultFormat(this.config.minTime)\n        : DEFAULT_START_TIME;\n      this.config.maxTime = this.config.maxTime\n        ? this.dateTimeRangePickerUtilityService.formatTimeToDefaultFormat(this.config.maxTime)\n        : DEFAULT_END_TIME;\n      this.config.startTime = this.config.startTime\n        ? this.dateTimeRangePickerUtilityService.formatTimeToDefaultFormat(this.config.startTime)\n        : DEFAULT_START_TIME;\n      this.config.endTime = this.config.endTime\n        ? this.dateTimeRangePickerUtilityService.formatTimeToDefaultFormat(this.config.endTime)\n        : DEFAULT_END_TIME;\n    }\n  }\n\n  /**\n   * @desc sets startDate, endDate\n   */\n  public processDateRangeModel() {\n    if (undefined != this.dateRangeModel && !_.isEmpty(this.dateRangeModel)) {\n      if (this.dateRangeModel[this.config.selectedModel]) {\n        const dateRangeMinDate = this.dateRangeModel[this.config.selectedModel].minDate;\n        const dateRangeMaxDate = this.dateRangeModel[this.config.selectedModel].maxDate;\n        const dateRangeStartDate = this.dateRangeModel[this.config.selectedModel].startDate;\n        const dateRangeEndDate = this.dateRangeModel[this.config.selectedModel].endDate;\n        const dateRangeDateArray = this.dateRangeModel[this.config.selectedModel].dateArray;\n\n        this.config.dateArray = dateRangeDateArray ? dateRangeDateArray : this.config.dateArray;\n        this.config.minDate = dateRangeMinDate\n          ? this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n              dateRangeMinDate,\n              this.config.inputDateFormat,\n            )\n          : this.config.minDate;\n        this.config.maxDate = dateRangeMaxDate\n          ? this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n              dateRangeMaxDate,\n              this.config.inputDateFormat,\n            )\n          : this.config.maxDate;\n        this.config.startDate = dateRangeStartDate\n          ? this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n              dateRangeStartDate,\n              this.config.inputDateFormat,\n            )\n          : this.config.startDate;\n        this.config.endDate = dateRangeEndDate\n          ? this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n              dateRangeEndDate,\n              this.config.inputDateFormat,\n            )\n          : this.config.endDate;\n\n        if (this.config.timePicker) {\n          const dateRangeMinTime = this.dateRangeModel[this.config.selectedModel].minTime;\n          const dateRangeMaxTime = this.dateRangeModel[this.config.selectedModel].maxTime;\n          const dateRangeStartTime = this.dateRangeModel[this.config.selectedModel].startTime;\n          const dateRangeEndTime = this.dateRangeModel[this.config.selectedModel].endTime;\n          this.config.minTime = this.config.minTime\n            ? this.dateTimeRangePickerUtilityService.formatTimeToDefaultFormat(dateRangeMinTime)\n            : this.config.minTime;\n          this.config.maxTime = this.config.maxTime\n            ? this.dateTimeRangePickerUtilityService.formatTimeToDefaultFormat(dateRangeMaxTime)\n            : this.config.maxTime;\n          this.config.startTime = this.config.startTime\n            ? this.dateTimeRangePickerUtilityService.formatTimeToDefaultFormat(dateRangeStartTime)\n            : this.config.startTime;\n          this.config.endTime = this.config.endTime\n            ? this.dateTimeRangePickerUtilityService.formatTimeToDefaultFormat(dateRangeEndTime)\n            : this.config.endTime;\n        }\n      }\n    }\n  }\n\n  /**\n   * @desc sets minDate, maxDate, startDate, endDate if not passed\n   */\n  public handleDateArray() {\n    if (this.config.dateArray && this.config.dateArray.length > 0) {\n      this.config.dateArray = this.dateTimeRangePickerUtilityService.getSanitizedDateArray(this.config);\n\n      // sort in asc order\n      this.config.dateArray = _.sortBy(this.config.dateArray, (date) => {\n        let format = null;\n        if (isNaN(Number(date))) {\n          if (this.config.inputDateFormat) {\n            format = this.config.inputDateFormat;\n          } else {\n            format = moment(date)._f;\n          }\n        }\n        const value = moment(date, format).valueOf();\n        if (!isNaN(value)) {\n          return value;\n        } else {\n          console.warn(\n            \"M1 Date Range Picker: Values in Date Array are not in any known format. Please pass the format or pass the dates in any known format\",\n          );\n        }\n      });\n\n      const minDate = this.config.dateArray[0];\n      const maxDate = this.config.dateArray[this.config.dateArray.length - 1];\n\n      if (\n        moment(this.config.minDate, DEFAULT_DATE_FROMAT).valueOf() ==\n        moment(DEFAULT_MIN_DATE, DEFAULT_DATE_FROMAT).valueOf()\n      ) {\n        this.config.minDate = this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n          minDate,\n          this.config.inputDateFormat,\n        );\n      }\n      if (\n        moment(this.config.maxDate, DEFAULT_DATE_FROMAT).valueOf() ==\n        moment(DEFAULT_MAX_DATE, DEFAULT_DATE_FROMAT).valueOf()\n      ) {\n        this.config.maxDate = this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n          maxDate,\n          this.config.inputDateFormat,\n        );\n      }\n      if (\n        moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf() ==\n        moment(DEFAULT_START_DATE, DEFAULT_DATE_FROMAT).valueOf()\n      ) {\n        this.config.startDate = this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n          minDate,\n          this.config.inputDateFormat,\n        );\n      }\n      if (\n        moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf() ==\n        moment(DEFAULT_END_DATE, DEFAULT_DATE_FROMAT).valueOf()\n      ) {\n        this.config.endDate = this.dateTimeRangePickerUtilityService.formatDateToDefaultFormat(\n          maxDate,\n          this.config.inputDateFormat,\n        );\n      }\n    }\n  }\n\n  public sanitizeDates() {\n    const subtractWeekCount = 0;\n    if (this.config.type == \"monthly\") {\n      this.config.minDate = moment(this.config.minDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.maxDate = moment(this.config.maxDate, DEFAULT_DATE_FROMAT)\n        .subtract(subtractWeekCount, \"week\")\n        .endOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.startDate = moment(this.config.startDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.endDate = moment(this.config.endDate, DEFAULT_DATE_FROMAT)\n        .subtract(subtractWeekCount, \"week\")\n        .endOf(\"month\")\n        .format(DEFAULT_DATE_FROMAT);\n    } else if (this.config.type == \"quarterly\") {\n      this.config.minDate = moment(this.config.minDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.maxDate = moment(this.config.maxDate, DEFAULT_DATE_FROMAT)\n        .subtract(subtractWeekCount, \"week\")\n        .endOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.startDate = moment(this.config.startDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.endDate = moment(this.config.endDate, DEFAULT_DATE_FROMAT)\n        .subtract(subtractWeekCount, \"week\")\n        .endOf(\"quarter\")\n        .format(DEFAULT_DATE_FROMAT);\n    }\n\n    if (this.config.type == \"weekly\") {\n      this.config.minDate = moment(this.config.minDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.maxDate = moment(this.config.maxDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.startDate = moment(this.config.startDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n      this.config.endDate = moment(this.config.endDate, DEFAULT_DATE_FROMAT)\n        .endOf(\"week\")\n        .format(DEFAULT_DATE_FROMAT);\n\n      if (this.config.type == \"yearly\") {\n        const minDate = moment(this.config.minDate, DEFAULT_DATE_FROMAT).format(DEFAULT_DATE_FROMAT);\n        const startDate = moment(this.config.startDate, DEFAULT_DATE_FROMAT).format(DEFAULT_DATE_FROMAT);\n        this.config.minDate = minDate;\n        this.config.startDate = startDate;\n      }\n    }\n\n    if (\n      moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf() <\n      moment(this.config.minDate, DEFAULT_DATE_FROMAT).valueOf()\n    ) {\n      this.config.minDate = this.config.startDate;\n    }\n\n    if (\n      moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf() >\n      moment(this.config.maxDate, DEFAULT_DATE_FROMAT).valueOf()\n    ) {\n      this.config.maxDate = this.config.endDate;\n    }\n  }\n\n  public processRanges() {\n    if (this.config.showRanges && !this.config.singleDatePicker) {\n      if (_.isEmpty(this.config.availableRanges)) {\n        this.config.availableRanges = this.dateTimeRangePickerUtilityService.createDefaultRanges(this.config);\n      }\n      this.selectActiveRange();\n    } else {\n      this.activeRange = \"Custom Range\";\n      this.onRangeClick(this.activeRange, null);\n    }\n  }\n\n  public selectActiveRange() {\n    _.forOwn(this.config.availableRanges, (rangeModel, range) => {\n      if (this.config.startDate == rangeModel.startDate && this.config.endDate == rangeModel.endDate) {\n        this.activeRange = range;\n        this.updateActiveItem();\n      }\n    });\n\n    if (!this.activeRange) {\n      this.activeRange = \"Custom Range\";\n      this.onRangeClick(this.activeRange, null);\n    }\n  }\n\n  public generateCalendar(date, side) {\n    this.selectedMonth[side] = moment(date, DEFAULT_DATE_FROMAT).format(\"MMM\");\n    this.selectedYear[side] = this.dateTimeRangePickerUtilityService.getSelectedYear(this.config, date, side);\n    const calendarLabel = `${this.selectedMonth[side]} ${this.selectedYear[side]}`;\n\n    const dates = {\n      label: calendarLabel as string,\n      months: this.dateTimeRangePickerUtilityService.getMonthsAvailable(\n        this.config.minDate,\n        this.config.maxDate,\n        this.selectedYear[side],\n      ),\n      years: this.dateTimeRangePickerUtilityService.getYearsAvailable(this.config),\n      itemRows: [] as Object[],\n    };\n\n    this.weekDayOptions = [\"\"];\n\n    if (this.config.type != \"yearly\") {\n      // moment returns wrong week number\n      const monthStartWeekNumber: number = moment(date, DEFAULT_DATE_FROMAT)\n        .year(this.selectedYear[side])\n        .startOf(\"month\")\n        .week(); // previousMonthLastWeek\n      const yearStartDate = moment(this.selectedYear[side], \"YYYY\")\n        .startOf(\"year\")\n        .format(DEFAULT_DATE_FROMAT);\n      let numberOfRows = 1;\n      let rowNumber: any = 0;\n      let columns: any = 0;\n      let currentItemDate = \"\";\n      let datecharacteristics: any = {};\n      let rowItemText = \"\";\n      let rowVariables: any = {};\n      let rowItemVariables: any = {};\n      let firstDay = \"\";\n      let lastDay = \"\";\n\n      if (this.config.type == \"daily\") {\n        numberOfRows = this.dateTimeRangePickerUtilityService.getNumberOfWeeks(date);\n        this.weekDayOptions = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"];\n      } else if (this.config.type == \"weekly\") {\n        numberOfRows = 8;\n        this.weekDayOptions = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n      } else if (this.config.type == \"monthly\") {\n        numberOfRows = 4;\n        this.weekDayOptions = [\"\", \"\", \"\"];\n      } else if (this.config.type == \"quarterly\") {\n        numberOfRows = 4;\n        this.weekDayOptions = [\"\"];\n      }\n\n      for (let dateRows = 0; dateRows < numberOfRows; dateRows++) {\n        const dateRowObj = {\n          rowNumber: null as string,\n          rowNumberText: null as string,\n          items: [] as Object[],\n        };\n\n        const rowOptions: any = {};\n        rowOptions.type = this.config.type;\n        rowOptions.monthStartWeekNumber = monthStartWeekNumber;\n        rowOptions.dateRows = dateRows;\n        rowOptions.year = this.selectedYear[side];\n        rowVariables = this.dateTimeRangePickerUtilityService.getCalendarRowVariables(rowOptions);\n\n        rowNumber = rowVariables.rowNumber;\n        columns = rowVariables.columns;\n\n        dateRowObj.rowNumber = rowNumber;\n        dateRowObj.rowNumberText = this.dateTimeRangePickerUtilityService.getCalendarRowNumberText(\n          this.config.type,\n          rowNumber,\n        );\n\n        for (let rowItem = 0; rowItem <= columns; rowItem++) {\n          const rowItemOptions: any = {};\n          rowItemOptions.type = this.config.type;\n          rowItemOptions.monthStartWeekNumber = monthStartWeekNumber;\n          rowItemOptions.dateRows = dateRows;\n          rowItemOptions.rowNumber = rowNumber;\n          rowItemOptions.yearStartDate = yearStartDate;\n          rowItemOptions.year = this.selectedYear[side];\n          rowItemOptions.rowItem = rowItem;\n          rowItemOptions.columns = columns;\n          rowItemOptions.year = this.selectedYear[side];\n          rowItemVariables = this.dateTimeRangePickerUtilityService.getCalendarRowItemVariables(rowItemOptions);\n\n          currentItemDate = rowItemVariables.currentItemDate;\n          rowItemText = rowItemVariables.rowItemText;\n          firstDay = rowItemVariables.firstDay;\n          lastDay = rowItemVariables.lastDay;\n          rowOptions.itemCount = rowItemVariables.itemCount;\n          datecharacteristics = this.getDatecharacteristics(currentItemDate, calendarLabel, side);\n\n          const itemObj = {\n            date: currentItemDate,\n            rowItemText,\n            firstDay,\n            lastDay,\n            available: datecharacteristics.available,\n            inRange: datecharacteristics.inRange,\n            active: datecharacteristics.active,\n            today: datecharacteristics.today,\n          };\n          if (this.dateTimeRangePickerUtilityService.isRowIemValid(rowOptions)) {\n            if (datecharacteristics.active) {\n              this.activeItem[side] = itemObj;\n            }\n            dateRowObj.items.push(itemObj);\n          }\n        }\n        dates.itemRows.push(dateRowObj);\n      }\n    }\n\n    this.calendarAvailable[side] = true;\n    return dates;\n  }\n\n  public generateTimePicker(time, side) {\n    const timeObject = {\n      hour: [],\n      minute: [],\n      meridian: [],\n    };\n\n    let startHour = 0;\n    const endHour = 23;\n    let startMinute = 0;\n    const endMinute = 59;\n    let selectedHour = side == \"left\" ? startHour : endHour;\n    let selectedMinute = side == \"left\" ? startMinute : endMinute;\n    const startDateEpoch = moment(this.config.startDate, DEFAULT_DATE_FROMAT).valueOf();\n    const endDateEpoch = moment(this.config.endDate, DEFAULT_DATE_FROMAT).valueOf();\n\n    if (time) {\n      selectedHour = moment(time, DEFAULT_TIME_FORMAT).format(\"H\");\n      selectedMinute = moment(time, DEFAULT_TIME_FORMAT).format(\"m\");\n\n      if (side == \"right\" && startDateEpoch == endDateEpoch) {\n        startHour = selectedHour;\n        startMinute = selectedMinute;\n      }\n    }\n\n    // let dateOptions = {\n    //   timeZone: TZ_NAMES[this.selectedTimezone],\n    //   timeZoneName: 'short',\n    //   hour12: false\n    // }\n    // let startDateObj = new Date(`Jan 1 1970 ${startHour}:${startMinute}:00 GMT-0700 (Mountain Standard Time)`);\n    // let endDateObj = new Date(`Jan 1 1970 ${endHour}:${endMinute}:00 GMT-0700 (Mountain Standard Time)`);\n    // startTime = startDateObj.toLocaleTimeString('en-US', dateOptions);\n    // endTime = endDateObj.toLocaleTimeString('en-US', dateOptions);\n\n    // startHour = moment(startTime, 'HH:mm:ss').format('H');\n    // endHour = moment(endTime, 'HH:mm:ss').format('H');\n    // startMinute = moment(startTime, 'HH:mm:ss').format('m');\n    // endMinute = moment(endTime, 'HH:mm:ss').format('m');\n\n    for (let h = startHour; h <= 23; h++) {\n      const stringified_h = this.dateTimeRangePickerUtilityService.convertToViewTimeItem(h);\n      timeObject.hour.push(stringified_h);\n    }\n    for (let m = startMinute; m <= 59; m++) {\n      const stringified_m = this.dateTimeRangePickerUtilityService.convertToViewTimeItem(m);\n      timeObject.minute.push(stringified_m);\n    }\n\n    this.selectedHour[side] = this.dateTimeRangePickerUtilityService.convertToViewTimeItem(selectedHour);\n    this.selectedMinute[side] = this.dateTimeRangePickerUtilityService.convertToViewTimeItem(selectedMinute);\n\n    if (side == \"left\") {\n      this.config.startTime = `${this.selectedHour[side]}:${this.selectedMinute[side]}`;\n    } else if (side == \"right\") {\n      this.config.endTime = `${this.selectedHour[side]}:${this.selectedMinute[side]}`;\n    }\n\n    return timeObject;\n  }\n\n  public capitalize(day) {\n    return _.capitalize(day);\n  }\n\n  public updateInputField() {\n    const startDate = this.dateTimeRangePickerUtilityService.formatStartDate(this.config, this.config.viewDateFormat);\n    const endDate = this.config.endDate\n      ? moment(this.config.endDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat)\n      : \"\";\n\n    if (this.config.singleDatePicker) {\n      let startDateText = startDate;\n      let endDataText = endDate;\n      let dateText = \"\";\n\n      if (this.config.timePicker) {\n        startDateText = `${startDate} ${this.config.startTime}`;\n        endDataText = `${endDate} ${this.config.endTime}`;\n      }\n      if (this.config.displayBeginDate) {\n        dateText = `${startDateText}`;\n      } else if (this.config.displayEndDate) {\n        dateText = `${endDataText}`;\n      } else {\n        dateText = `${startDateText} - ${endDataText}`;\n      }\n\n      this.selectedDateText = dateText;\n    } else {\n      let startDateText = startDate;\n      let endDataText = endDate;\n\n      if (this.config.timePicker) {\n        startDateText = `${startDate} ${this.config.startTime}`;\n        endDataText = `${endDate} ${this.config.endTime}`;\n      }\n\n      this.selectedDateText = `${startDateText} - ${endDataText}`;\n    }\n\n    if (this.canBeEmpty || this.selectedDateText.indexOf(\"nvalid\") < 0) {\n      this.isValidFilter = true;\n    }\n\n    if (this.config.type == \"yearly\") {\n      this.dateTitleText.left = `${startDate}`;\n      this.dateTitleText.right = `${endDate}`;\n    } else {\n      this.updateActiveItemInputField();\n    }\n  }\n\n  public updateActiveItemInputField() {\n    let itemFirstDate = \"\";\n    let itemLastDate = \"\";\n    let itemText = \"\";\n    if (!this.config.singleDatePicker) {\n      itemFirstDate = this.activeItem.left.firstDay;\n      itemLastDate = this.activeItem.left.lastDay;\n      itemText = this.activeItem.left.rowItemText;\n      itemFirstDate = moment(itemFirstDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n      itemLastDate = moment(itemLastDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n      if (this.config.type != \"daily\") {\n        this.dateTitleText.left = `${itemText} (${itemFirstDate} - ${itemLastDate})`;\n      } else {\n        this.dateTitleText.left = `${itemFirstDate}`;\n      }\n    }\n\n    itemFirstDate = this.activeItem.right.firstDay;\n    itemLastDate = this.activeItem.right.lastDay;\n    itemText = this.activeItem.right.rowItemText;\n    itemFirstDate = moment(itemFirstDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n    itemLastDate = moment(itemLastDate, DEFAULT_DATE_FROMAT).format(this.config.viewDateFormat);\n    if (this.config.type != \"daily\") {\n      this.dateTitleText.right = `${itemText} (${itemFirstDate} - ${itemLastDate})`;\n    } else {\n      this.dateTitleText.right = `${itemFirstDate}`;\n    }\n  }\n\n  public dateRangeSelected() {\n    const dateRangeModel: DateRangeModelItem = this.getDateRangeModelItem();\n    this.showCalendar = false;\n    this.filterInputBox.nativeElement.classList.remove(\"empty-filter\");\n    this.doDateRangeModelChange();\n    this.dateRangeChanged.emit(dateRangeModel);\n  }\n\n  public getDateRangeModel(format?) {\n    let dRModel = {};\n    if (undefined != this.dateRangeModel && !_.isEmpty(this.dateRangeModel)) {\n      dRModel = _.cloneDeep(this.dateRangeModel);\n    }\n    dRModel[this.config.selectedModel] = this.getDateRangeModelItem(format);\n    return dRModel;\n  }\n\n  public getDateRangeModelItem(format?): DateRangeModelItem {\n    let dateRangeModelItem: DateRangeModelItem;\n    let outputDateFormat = this.config.outputDateFormat;\n    if (undefined != format) {\n      outputDateFormat = format;\n    }\n    let startDate = this.dateTimeRangePickerUtilityService.formatStartDate(this.config, outputDateFormat);\n    let endDate = moment(this.config.endDate, DEFAULT_DATE_FROMAT).format(outputDateFormat);\n\n    if (this.config.selectedTimezone) {\n      startDate = this.dateTimeRangePickerUtilityService.formatToZoneDate(\n        this.config.selectedTimezone,\n        outputDateFormat,\n        startDate,\n      );\n      endDate = this.dateTimeRangePickerUtilityService.formatToZoneDate(\n        this.config.selectedTimezone,\n        outputDateFormat,\n        endDate,\n      );\n    }\n\n    dateRangeModelItem = { startDate, endDate };\n\n    if (this.config.timePicker) {\n      const startTime = this.config.startTime;\n      const endTime = this.config.endTime;\n\n      dateRangeModelItem = {\n        startDate,\n        endDate,\n        startTime,\n        endTime,\n      };\n    }\n\n    return dateRangeModelItem;\n  }\n\n  public doApply() {\n    const startDate = this.config.startDate;\n    const endDate = this.config.endDate;\n\n    this.activeStartDate = startDate as string;\n    this.activeEndDate = endDate as string;\n\n    if (this.config.startDate && this.config.endDate) {\n      if (!this.config.timePicker) {\n        this.dateRangeSelected();\n      } else {\n        if (this.config.timePicker) {\n          _.forEach(this.sides, (side) => {\n            this.times[side] = this.generateTimePicker(null, side);\n          });\n        }\n      }\n    }\n\n    let outputStartDate = startDate ? moment(startDate, DEFAULT_DATE_FROMAT).valueOf() : null;\n    let outputEndDate = endDate ? moment(endDate, DEFAULT_DATE_FROMAT).valueOf() : null;\n    if (this.config.outputDateFormat) {\n      outputStartDate = startDate ? moment(startDate, DEFAULT_DATE_FROMAT).format(this.config.outputDateFormat) : null;\n      outputEndDate = endDate ? moment(endDate, DEFAULT_DATE_FROMAT).format(this.config.outputDateFormat) : null;\n    }\n    this.selectedDate.emit({\n      startDate: outputStartDate,\n      endDate: outputEndDate,\n    });\n\n    this.updateInputField();\n  }\n\n  public doDateRangeModelChange() {\n    const dateRangeModel = this.getDateRangeModel(this.config.inputDateFormat);\n    this.dateRangeModelChange.emit(dateRangeModel);\n  }\n\n  public onTimezoneChange(tz) {\n    this.selectedTimezone = tz;\n    this.todayTime = this.dateTimeRangePickerUtilityService.getZoneToday(\n      this.selectedTimezone,\n      this.config.viewDateFormat,\n    );\n\n    this.parseOptionsToDefaultDateFormat();\n    _.forEach(this.sides, (side) => {\n      let date = this.config.startDate;\n      let time = this.config.startTime;\n      if (side == \"right\") {\n        date = this.config.endDate;\n        time = this.config.endTime;\n      }\n      this.dates[side] = this.generateCalendar(date, side);\n      if (this.config.timePicker) {\n        this.times[side] = this.generateTimePicker(time, side);\n      }\n    });\n  }\n\n  public getSelectedTimeItemText(item, side) {\n    if (item == \"hour\") {\n      return this.selectedHour[side];\n    } else if (item == \"minute\") {\n      return this.selectedMinute[side];\n    }\n  }\n\n  public setActiveItemOnRangeClick() {\n    this.updateActiveItem();\n    this.doApply();\n  }\n\n  public updateActiveItem() {\n    const startDate: any = this.dateTimeRangePickerUtilityService.getFirstLastDay(\n      this.config.startDate,\n      this.config.type,\n    );\n    const endDate: any = this.dateTimeRangePickerUtilityService.getFirstLastDay(this.config.endDate, this.config.type);\n\n    if (this.config.type == \"weekly\") {\n      startDate.rowItemText = `W${this.dateTimeRangePickerUtilityService.getWeekNumber(startDate.firstDay)}`;\n      endDate.rowItemText = `W${this.dateTimeRangePickerUtilityService.getWeekNumber(endDate.firstDay)}`;\n    } else if (this.config.type == \"monthly\") {\n      startDate.rowItemText = `${moment(startDate.firstDay, DEFAULT_DATE_FROMAT).format(\"MMM\")}`;\n      endDate.rowItemText = `${moment(endDate.firstDay, DEFAULT_DATE_FROMAT).format(\"MMM\")}`;\n    } else if (this.config.type == \"quarterly\") {\n      startDate.rowItemText = `Quarter ${moment(startDate.firstDay, DEFAULT_DATE_FROMAT).quarter()}`;\n      endDate.rowItemText = `Quarter ${moment(endDate.firstDay, DEFAULT_DATE_FROMAT).quarter()}`;\n    }\n\n    this.activeItem.left = startDate;\n    this.activeItem.right = endDate;\n\n    // this.doApply();\n  }\n}\n","import { ModuleWithProviders, NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { MatButtonModule, MatFormFieldModule, MatIconModule, MatInputModule, MatSelectModule } from \"@angular/material\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\n\nimport { ObjNgFor } from \"../pipes/objNgFor.pipe\";\n\nimport { DateTimeRangePickerComponent } from \"./dateTimeRangePicker.component\";\nimport { DateTimeRangePickerUtilityService } from \"./dateTimeRangePicker.utility.service\";\n\nconst declarations = [ObjNgFor, DateTimeRangePickerComponent];\n\n@NgModule({\n  declarations,\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    MatFormFieldModule,\n    MatButtonModule,\n    MatInputModule,\n    MatIconModule,\n    MatSelectModule,\n  ],\n  exports: [DateTimeRangePickerComponent],\n})\nexport class NgxDateTimeRangePickerModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: NgxDateTimeRangePickerModule,\n      providers: [DateTimeRangePickerUtilityService],\n    };\n  }\n}\n"],"names":["moment","EU_TZ_CODE","_","DEFAULT_DATE_FROMAT","DEFAULT_TIME_FORMAT","DEFAULT_START_DATE","DEFAULT_END_DATE","DEFAULT_MIN_DATE","DEFAULT_MAX_DATE","DEFAULT_START_TIME","DEFAULT_END_TIME","USA_TZ_CODE"],"mappings":"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"}
